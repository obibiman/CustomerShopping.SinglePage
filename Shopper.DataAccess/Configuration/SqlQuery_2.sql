CREATE TABLE [dbo].[Customers] (
    [CustomerId] [int] NOT NULL IDENTITY,
    [FirstName] [nvarchar](max),
    [LastName] [nvarchar](max),
    [DateOfBirth] [datetime] NOT NULL,
    [IsFrequentShopper] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.Customers] PRIMARY KEY ([CustomerId])
)
CREATE TABLE [dbo].[ShoppingCarts] (
    [ShoppingCartId] [int] NOT NULL IDENTITY,
    [PurchaseDate] [datetime] NOT NULL,
    [Customer_CustomerId] [int],
    CONSTRAINT [PK_dbo.ShoppingCarts] PRIMARY KEY ([ShoppingCartId])
)
CREATE TABLE [dbo].[Inventories] (
    [InventoryId] [int] NOT NULL IDENTITY,
    [DepartmentId] [int] NOT NULL,
    [ItemDescription] [nvarchar](max),
    [ItemName] [nvarchar](max),
    [Manufacturer] [nvarchar](max),
    [Supplier] [nvarchar](max),
    [UnitsInStock] [float] NOT NULL,
    [RetailDispense] [int] NOT NULL,
    [Price] [decimal](18, 2) NOT NULL,
    [ShoppingCart_ShoppingCartId] [int],
    CONSTRAINT [PK_dbo.Inventories] PRIMARY KEY ([InventoryId])
)
CREATE TABLE [dbo].[Departments] (
    [DepartmentId] [int] NOT NULL IDENTITY,
    [DepartmentName] [nvarchar](max),
    CONSTRAINT [PK_dbo.Departments] PRIMARY KEY ([DepartmentId])
)
CREATE INDEX [IX_Customer_CustomerId] ON [dbo].[ShoppingCarts]([Customer_CustomerId])
CREATE INDEX [IX_DepartmentId] ON [dbo].[Inventories]([DepartmentId])
CREATE INDEX [IX_ShoppingCart_ShoppingCartId] ON [dbo].[Inventories]([ShoppingCart_ShoppingCartId])
ALTER TABLE [dbo].[ShoppingCarts] ADD CONSTRAINT [FK_dbo.ShoppingCarts_dbo.Customers_Customer_CustomerId] FOREIGN KEY ([Customer_CustomerId]) REFERENCES [dbo].[Customers] ([CustomerId])
ALTER TABLE [dbo].[Inventories] ADD CONSTRAINT [FK_dbo.Inventories_dbo.ShoppingCarts_ShoppingCart_ShoppingCartId] FOREIGN KEY ([ShoppingCart_ShoppingCartId]) REFERENCES [dbo].[ShoppingCarts] ([ShoppingCartId])
ALTER TABLE [dbo].[Inventories] ADD CONSTRAINT [FK_dbo.Inventories_dbo.Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [dbo].[Departments] ([DepartmentId]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201605052356200_AutomaticMigration', N'Shopper.DataAccess.Migrations.Configuration',  0x1F8B0800000000000400D55C5B6FE336167E2FB0FF41D0D36E91DA49E6651AD82D669CC9C2D8C9248833D3BE058C443B4425CA15A92046B1BF6C1FFA93FA177A28EBC28B4489F22559CC4B2292DF21CF953CE764FEFADF9F939F5FE2C87BC62923099DFA67A353DFC33448424257533FE3CB1FDEFB3FFFF48FEF269FC2F8C5FB56CE7B27E6C14ACAA6FE13E7EB8BF198054F38466C1493204D58B2E4A32089C7284CC6E7A7A73F8ECFCEC618207CC0F2BCC95D46398971FE0BFC3A4B6880D73C43D17512E28815DF616491A37A5F508CD91A0578EA2F9E92F51AA7A34BC4D18720C08C8D6039C72FDCF73E4404C18E16385AFA1EA234E188C37E2FBE32BCE06942578B357C40D1FD668D61DE12450C17E7B8A8A7F73DD2E9B938D2B85E58420519E349EC0878F6AEE0D1585F3E88D37EC543E0E227E036DF8853E79C9CFAB39C044E7D4F2776318B52315162340C133A2A979C78EAC049A515A03CE2DF8937CB229EA5784A71C653149D78B7D9634482FFE0CD7DF21BA6539A4591BC3FD8218C291FE0D36D9A0015BEB9C34B6DD7F3D0F7C6EAFAB10E502D6F58BB3DDF9CF277E7BEF70536831E235CA983C48B054F52FC6F4C718A380E6F11E7380569CE439C33D4D88546F38AA48C8B1F4B92A0846057BE778D5E3E63BAE24F531F7EF4BD2BF282C3F24BB18DAF948019C2229E66B88BD2677424426075F866F991A4FCA9A4253EDD1341DB60A51D6BCEAE52FC7B06BC2C34AA44FC98241146B41BF00B7A26AB5C541A740E081C98A19433DFBBC3513E8B3D91F5D63D54EAFCA04DBD4A93F82E89248D51673C2C922C0D04A313EBB47B94AE3057773C19D78668354F19CAC144E565AF68A6F2368698AABEFE58E67A0B827D420C0B857657EE565D9CD367A09FA404376BA27CDC076572AD8B6D730C6D6C9DB8933E96401B0765ACD6BCA226567B18A286CAE263E9E0255E83E46298DC4DB5C3BB721C5F6216A464BDBD441C3832087A470941D788664B140885490F4E6C91ADD71139022198CCD99C82FA04BF55CE270133708FAB779823125D12B6C694D5F210BE461F7244BE4D4950BB461C901845BE779BC24FC5FBE1BDEF2D022400BB34B6B7F3A94DC2C1FBD48B5ED1FDA8C6ECEA7F5C5CC1211CD0618C797098AC37D616249B671821B2659A5B80CC62494375AB828B6D8456F503B3B7D6AA40FBD25C904888D368031294B54895CB358E1F715AC92224CF24CC84757F4351069F4E0D492A2B7EC164F5C4ABD967F6D9DF922813CA55CC3EB7CFDEEA5735FB9D29A3AD34E48F1F184B029273BBE156A968904AF9130DBDBE77AEDAAFAA17F66B900A81B01180EA00E74623931D3DC8940A299191EE612A8DEF759E48E7B7B3A5E51DD4B6DBAE4751BDD73AC5E0C48E8EE7544F9E0FE7478B9B69DB6E97CFA9B72B873175B367BE1E4A6EE8258E30C7DE87609B3F9A2116A0D0F4A6A0FBA1E3D676502B91B8C34B9C8A4882A219B867703A84723312121A90358A7A31495BED1C49051B2A8AFA082CC45484BE5E4CD9C7562A8A9AA4BA38D7AAA3DB1024729CB0A2728A4568A8529F468CF9CA70116658118A754511B00BCC35470021B50E7A862D1B76AB8268C9140348B5D90E3025CC1B5092D276E0D4126BC291ED52039204D27C44F526224DEF7ADAEB5AE31075AAD319DC3674D121C848A8CA99747FA3B2A407BBDAF26C26B3FA44229758241D49D26D0B933A424F5FC60F6052DBDDD664529FF0E412A0A4432966626153475CD95993CA4B77E5F1EA6AD0785B0E2ACB46E396BAD1E41AE5E291EA48C5176FB12D22CD7E58B85755E22DC638600DC5956AB7152538385A616D1448C34EF3C28028603D22F13E9885B1314DF3EF2D1EAE24A6BB70537AA5D72B57889F9548D25050ABFDBE19180B9C2B38A35085FCB8B8C1E4CCA579550F4528B5546866E28140BBAA3E3634A9F62283499FFB63D5D51519AAFEDA1F49299FC860CA407FBC86128A8CDA306C624FC69A2C8D2B8DA13DC6255455C75ECADAE5E50729AC72BF70575AFBF23621E8F50A5902F65A880D55AD46C898EAC89B11A83D1E0D12677DC77397A5656DAB35C9197FC58EDAEB08363CF5A9A098BBF51161D9A19ED45776A90FBAE19A1EAEFEDA1F49CDCECB68EA487FC43A05AF1856F5B53F929A6397D1D491FE887AE64FC6D4C71C4C7F9B66576C7EFBE9CD18BB7C59DC93B14B0F31776BB72D3E9E79EAC9F366CC36933AB428D51B777B3456DF20CE71575DDEDB2D8B178625B0F6CB1CED149F1FBA82759E6E2BC177D87E6BB6698F51C9BA57105B48F2A4E79C895A5255A918C81AFD35E7AC7E6D5902A7578ABED8E576D7203E7B7AA1A7F0BA1E350FB6D78DA3BED9F3177B3696C3E85C0FB674EB9A9140D0A7548EB64A2468098349F178EFEE46355EF3DB29A2289E3C93307FC96F18DCA372C51D2D7E8F66706B11B9C672025C8BC81233BE2DD8F9E7A767E75A23EBDB692A1D3316460DC98FA6CED201F5F2FDF67712C1E5CE6AB8630784D1D2499F91788DA5FF8CD1CBBF64B8216D9B3B8135B46686F089EFB535F391F07DF575B4BBE3D76C333C88D63475160E964DA38F94366F5482E634C42F53FF8F7CFD8537FFF5A101E2C4BB49C11B5D78A7DE7FED9A37A06B708074F7DDBA7710B936B5E8F49581BCB68DF9BB34FAEDE44BF466BE9DC09A1AF67602D49BF276026B6ABC5B4609EAF273265273DF5DAE0FBBF4D985BBF5D9D91D9F71B17753620BD4011C4ADB23FFB5BAF10EEC53061A601B3BF7DC12B5AFFE27A98E7FC496948E4281EB6DC373E941B165B5ED847B6428F6DE7EB2B796B17D74870D52C03DA98CA518EAF2947152156735ED99573882960C6EA47BDDAEB9D77147D6DCF701DBE1DC5CD11B697D333B285A4A16C61FBBD681D17043DBBC0DDCB61E1390FC36B6B6B60D59FBDE3ADBDE9A48D93B8A7472923A1AB4A4B12642B69E1C9D8C6C7C061D79B08990A59DE8D51BEB5A9BB9AC8D4F06D7B582C6FF45B35C635F5CEFDEC1DE8C7BAB4D702D1D6F4792BB436B9B9981063F2AFDAF09E0CA1959D51022BF4E71A078D06ACE9C2E93D29D6B3B2AA7E86F7678CB86A2D4927222DEEE302C6A2EF91F01157F87F1297EC4E19CDE647C9D7138328E1F2385192220D8E8E7FD7BEA9E2737790E83EDE308B04D22926C37F46346A2B0DAF75543CEB20542449AE2692764C9C5136FB5A990BE24B42750C1BE2A40DEE3781D0118BBA10BF48C87ECED2BC39FF10A059BB290D00ED22D0895ED934B8256298A598151AF875F4187C3F8E5A7BF0131B51A703C440000 , N'6.1.3-40302')

